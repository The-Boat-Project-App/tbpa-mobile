{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _objectDestructuringEmpty from \"@babel/runtime/helpers/objectDestructuringEmpty\";\nimport { NativeWindStyleSheet as _NativeWindStyleSheet } from \"nativewind\";\nimport { StyledComponent as _StyledComponent } from \"nativewind\";\nimport { useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport useWindowDimensions from \"react-native-web/dist/exports/useWindowDimensions\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport { boatLocationVar } from \"../../variables/boatLocation\";\nimport { useReactiveVar } from '@apollo/client';\nimport { Spinner } from 'native-base';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar HomeHeader = function HomeHeader(_ref) {\n  _objectDestructuringEmpty(_ref);\n  var _useWindowDimensions = useWindowDimensions(),\n    width = _useWindowDimensions.width;\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    formattedCountDown = _useState2[0],\n    setFormattedCountDown = _useState2[1];\n  var boatData = useReactiveVar(boatLocationVar);\n  var countDownDate = new Date(boatData.start_date).getTime();\n  if (boatData.start_date) {\n    var x = setInterval(function () {\n      var now = new Date().getTime();\n      var distance = countDownDate - now;\n      var days = Math.floor(distance / (1000 * 60 * 60 * 24));\n      var hours = Math.floor(distance % (1000 * 60 * 60 * 24) / (1000 * 60 * 60));\n      var minutes = Math.floor(distance % (1000 * 60 * 60) / (1000 * 60));\n      var seconds = Math.floor(distance % (1000 * 60) / 1000);\n      setFormattedCountDown(\"J-\" + days + \" - \" + hours + \" h  \" + minutes + \" m \" + seconds + \" s\");\n      if (distance < 0) {\n        clearInterval(x);\n        setFormattedCountDown('EXPIRED');\n      }\n    }, 1000);\n  }\n  return _jsxs(_StyledComponent, {\n    className: \"flex-row bg-white mr-1 \" + (Platform.OS === 'ios' ? 'pb-0' : 'pb-1') + \" pr-1 \",\n    component: View,\n    children: [_jsx(_StyledComponent, {\n      className: \"w-1/2 flex flex-row justify-center\",\n      component: View,\n      children: _jsx(Image, {\n        source: {\n          uri: 'https://camo.githubusercontent.com/a4c2e531fddea46509f4aac9dce43d10f8592b1ef23cba021aa958d77979956c/68747470733a2f2f7265732e636c6f7564696e6172792e636f6d2f6d617474686965756465762f696d6167652f75706c6f61642f76313636333936333237352f436170747572655f645f652543432538316372616e5f323032322d30392d32335f612543432538305f32322e30302e35375f6734717375362e706e67'\n        },\n        style: {\n          width: width * 0.4,\n          height: width * 0.2,\n          resizeMode: 'contain'\n        }\n      })\n    }), _jsxs(_StyledComponent, {\n      className: \"items-end  w-1/2  mr-2\",\n      component: View,\n      children: [_jsx(_StyledComponent, {\n        className: \"color-deepBlue font-raleway text-xs \",\n        component: Text,\n        children: \"D\\xE9part 1\\xE8re \\xE9dition :\"\n      }), _jsx(_StyledComponent, {\n        className: \"color-deepBlue text-xs font-raleway\",\n        component: Text,\n        children: \"13 janvier 2023\"\n      }), _jsx(_StyledComponent, {\n        className: \"flex-row rounded-md p-1 mt-2 bg-clearBlue justify-center\",\n        style: {\n          width: width * 0.4\n        },\n        component: View,\n        children: formattedCountDown != '' ? _jsx(_StyledComponent, {\n          className: \"color-white  font-raleway text-xs\",\n          component: Text,\n          children: formattedCountDown\n        }) : _jsx(Spinner, {\n          size: \"sm\",\n          color: \"white\"\n        })\n      })]\n    })]\n  });\n};\nexport default HomeHeader;\n_NativeWindStyleSheet.create({\n  styles: {\n    \"mr-1\": {\n      \"marginRight\": 4\n    },\n    \"mt-0\": {\n      \"marginTop\": 0\n    },\n    \"mt-1\": {\n      \"marginTop\": 4\n    },\n    \"mr-2\": {\n      \"marginRight\": 8\n    },\n    \"mt-2\": {\n      \"marginTop\": 8\n    },\n    \"flex\": {\n      \"display\": \"flex\"\n    },\n    \"w-1/2\": {\n      \"width\": \"50%\"\n    },\n    \"flex-row\": {\n      \"flexDirection\": \"row\"\n    },\n    \"items-end\": {\n      \"alignItems\": \"flex-end\"\n    },\n    \"items-center\": {\n      \"alignItems\": \"center\"\n    },\n    \"justify-center\": {\n      \"justifyContent\": \"center\"\n    },\n    \"justify-evenly\": {\n      \"justifyContent\": \"space-evenly\"\n    },\n    \"rounded-md\": {\n      \"borderTopLeftRadius\": 6,\n      \"borderTopRightRadius\": 6,\n      \"borderBottomRightRadius\": 6,\n      \"borderBottomLeftRadius\": 6\n    },\n    \"rounded-lg\": {\n      \"borderTopLeftRadius\": 8,\n      \"borderTopRightRadius\": 8,\n      \"borderBottomRightRadius\": 8,\n      \"borderBottomLeftRadius\": 8\n    },\n    \"border\": {\n      \"borderTopWidth\": 1,\n      \"borderRightWidth\": 1,\n      \"borderBottomWidth\": 1,\n      \"borderLeftWidth\": 1\n    },\n    \"bg-white\": {\n      \"backgroundColor\": \"#FFFFFF\"\n    },\n    \"bg-clearBlue\": {\n      \"backgroundColor\": \"#139DB8\"\n    },\n    \"p-0.5\": {\n      \"paddingTop\": 2,\n      \"paddingRight\": 2,\n      \"paddingBottom\": 2,\n      \"paddingLeft\": 2\n    },\n    \"p-0\": {\n      \"paddingTop\": 0,\n      \"paddingRight\": 0,\n      \"paddingBottom\": 0,\n      \"paddingLeft\": 0\n    },\n    \"p-2\": {\n      \"paddingTop\": 8,\n      \"paddingRight\": 8,\n      \"paddingBottom\": 8,\n      \"paddingLeft\": 8\n    },\n    \"p-1\": {\n      \"paddingTop\": 4,\n      \"paddingRight\": 4,\n      \"paddingBottom\": 4,\n      \"paddingLeft\": 4\n    },\n    \"pb-0\": {\n      \"paddingBottom\": 0\n    },\n    \"pb-1\": {\n      \"paddingBottom\": 4\n    },\n    \"pr-1\": {\n      \"paddingRight\": 4\n    },\n    \"font-raleway\": {\n      \"fontFamily\": \"Raleway_400Regular\"\n    },\n    \"font-bold\": {\n      \"fontWeight\": \"700\"\n    },\n    \"color-white\": {\n      \"color\": \"#FFFFFF\"\n    },\n    \"color-deepBlue\": {\n      \"color\": \"#272E67\"\n    },\n    \"text-xs\": {\n      \"fontSize\": 12,\n      \"lineHeight\": 16\n    }\n  }\n});","map":{"version":3,"names":["useState","boatLocationVar","useReactiveVar","Spinner","HomeHeader","useWindowDimensions","width","formattedCountDown","setFormattedCountDown","boatData","countDownDate","Date","start_date","getTime","x","setInterval","now","distance","days","Math","floor","hours","minutes","seconds","clearInterval","Platform","OS","uri","height","resizeMode"],"sources":["/Users/matthieu/Documents/tbpa-mobile/components/HomeHeader/HomeHeader.tsx"],"sourcesContent":["import { useState } from 'react'\nimport { View, Image, Text, useWindowDimensions, Platform } from 'react-native'\nimport { boatLocationVar } from '../../variables/boatLocation'\nimport { useReactiveVar } from '@apollo/client'\nimport { Spinner } from 'native-base'\n\ninterface HomeHeaderProps {}\n\nconst HomeHeader: React.FunctionComponent<HomeHeaderProps> = ({}) => {\n  const { width } = useWindowDimensions()\n  const [formattedCountDown, setFormattedCountDown] = useState<string>('')\n  const boatData = useReactiveVar(boatLocationVar)\n  const countDownDate = new Date(boatData.start_date).getTime()\n\n  if (boatData.start_date) {\n    // Update the count down every 1 second\n    let x = setInterval(function () {\n      // Get today's date and time\n      let now = new Date().getTime()\n\n      let distance = countDownDate - now\n\n      let days = Math.floor(distance / (1000 * 60 * 60 * 24))\n      let hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60))\n      let minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60))\n      let seconds = Math.floor((distance % (1000 * 60)) / 1000)\n\n      setFormattedCountDown(`J-${days} - ${hours} h  ${minutes} m ${seconds} s`)\n\n      if (distance < 0) {\n        clearInterval(x)\n        setFormattedCountDown('EXPIRED')\n      }\n    }, 1000)\n  }\n\n  return (\n    <View className={`flex-row bg-white mr-1 ${Platform.OS === 'ios' ? 'pb-0' : 'pb-1'} pr-1 `}>\n      <View className='w-1/2 flex flex-row justify-center'>\n        <Image\n          source={{\n            uri: 'https://camo.githubusercontent.com/a4c2e531fddea46509f4aac9dce43d10f8592b1ef23cba021aa958d77979956c/68747470733a2f2f7265732e636c6f7564696e6172792e636f6d2f6d617474686965756465762f696d6167652f75706c6f61642f76313636333936333237352f436170747572655f645f652543432538316372616e5f323032322d30392d32335f612543432538305f32322e30302e35375f6734717375362e706e67',\n          }}\n          style={{ width: width * 0.4, height: width * 0.2, resizeMode: 'contain' }}\n        />\n        {/* <View className='flex-row justify-center justify-evenly '>\n          <TouchableOpacity className='mt-0 justify-center items-center  p-0.5 border border-cyan-700 rounded-md '>\n            <Text className='color-cyan-700 font-bold text-xs'>EN</Text>\n          </TouchableOpacity>\n          <TouchableOpacity className='mt-1 justify-center items-center p-2 border border-cyan-700 rounded-lg bg-cyan-700'>\n            <Text className='color-white font-bold text-xs'>FR</Text>\n          </TouchableOpacity>\n          <TouchableOpacity className='mt-0 justify-center items-center  p-0.5 border border-cyan-700 rounded-md '>\n            <Text className='color-cyan-700 font-bold text-xs'>ES</Text>\n          </TouchableOpacity>\n          <TouchableOpacity className='mt-0 justify-center items-center  p-0.5 border border-cyan-700 rounded-md '>\n            <Text className='color-cyan-700 font-bold text-xs'>AR</Text>\n          </TouchableOpacity>\n        </View> */}\n      </View>\n\n      <View className='items-end  w-1/2  mr-2'>\n        <Text className='color-deepBlue font-raleway text-xs '>Départ 1ère édition :</Text>\n        <Text className='color-deepBlue text-xs font-raleway'>13 janvier 2023</Text>\n        <View\n          className='flex-row rounded-md p-1 mt-2 bg-clearBlue justify-center'\n          style={{ width: width * 0.4 }}\n        >\n          {formattedCountDown != '' ? (\n            <Text className='color-white  font-raleway text-xs'>{formattedCountDown}</Text>\n          ) : (\n            <Spinner size='sm' color='white' />\n          )}\n        </View>\n      </View>\n    </View>\n  )\n}\n\nexport default HomeHeader\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}